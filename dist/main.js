(()=>{"use strict";const e="be031fc682515aa4a038992ca5e4ec7f",t=(document.getElementById("cityName"),document.querySelector(".fa-solid")),n=document.getElementById("temperature"),a=document.getElementById("description");document.getElementsByClassName("refresh"),cityName;let o=document.getElementById("cityID"),i=[],c=[];window.onload=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition((t=>{i=t.coords.latitude,c=t.coords.longitude,fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${i}&lon=${c}&units=metric&appid=${e}`).then((e=>e.json())).then((e=>{o.innerHTML=e.name,n.innerHTML=e.main.temp.toFixed(0)+"°C",a.innerHTML=e.weather[0].main,image.innerHTML=e.weather[0].icon})).catch((function(){}))})),document.getElementById("cityName").value=""},t.addEventListener("click",(e=>{window.location.reload()})),document.body.addEventListener("click",(e=>{document.getElementById("cityName").value=""}));const d=document.querySelector(".inputCity");function r(t){var n;n=d.value,fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${n}&units=metric&appid=${e}`).then((e=>e.json())).then(s)}function s(t){i=t[0].lat,c=t[0].lon,fetch(`https://api.openweathermap.org/geo/1.0/reverse?lat=${i}&lon=${c}&units=metric&appid=${e}`).then((e=>e.json())).then((t=>{o.innerHTML=t[0].name,i=t[0].lat,c=t[0].lon,async function(t,o){fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${o}&units=metric&appid=${e}`).then((e=>e.json())).then((e=>{n.innerHTML=e.main.temp.toFixed(0)+"°c",a.innerHTML=e.weather[0].description}))}(i,c)}))}d.addEventListener("keypress",r),t.addEventListener("click",r),d.addEventListener("keyup",(t=>{"Enter"===t.key&&fetch(`https://api.openweathermap.org/data/2.5/forecast?q=gent&cnt=5&units=metric&appid=${e}`).then((e=>e.json())).then((e=>{console.log(e),e.list.forEach((e=>{const t=document.querySelector(".five-days"),n=document.createElement("div");t.appendChild(n),n.classList.add("forecast-card");const a=document.createElement("h2");a.textContent=void 0,n.appendChild(a),a.classList.add("date");const o=document.createElement("p");o.textContent=e.main.temp.toFixed(0)+"°C",n.appendChild(o),o.classList.add("current-temp");const i=document.createElement("p");i.textContent=e.weather[0].main,n.appendChild(i),i.classList.add("conditions");const c=document.createElement("img");c.src=`http://openweathermap.org/img/w/${e.weather[0].icon}.png`,n.appendChild(c),c.classList.add("icon"),function(){let e=new Date;for(let t=0;t<5;t++)e.getDay()}()}))})).catch((e=>{console.log(e)}))}))})();